% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/svb_fit.R
\name{svb.fit}
\alias{svb.fit}
\title{Fit sparse variational Bayesian proportional hazards model.}
\usage{
svb.fit(
  Y,
  delta,
  X,
  lambda = 0.5,
  params = c(1, ncol(X)),
  mu.init = NULL,
  s.init = NULL,
  g.init = NULL,
  maxiter = 1000,
  tol = 0.001,
  verbose = TRUE
)
}
\arguments{
\item{Y}{failure times}

\item{delta}{censoring indicator, 0: censored, 1: uncensored}

\item{X}{design matrix}

\item{lambda}{penalisation hyperparameter}

\item{params}{additional hyperparameters, defualt: \code{c(a_0=1, b_0=ncol(X))}. For large \code{p} (~10,000) we suggest increasing \code{a_0}.}

\item{mu.init}{initial values for means, default: \code{rnorm(ncol(X))}.}

\item{s.init}{initial values for standard deviations, default: \code{rep(0.2, ncol(X))}}

\item{g.init}{initial values for gamma, default: \code{rep(0.5, ncol(X))}}

\item{maxiter}{maximum number of iterations}

\item{tol}{convergence tolerance}

\item{verbose}{print additional information}
}
\description{
Fit sparse variational Bayesian proportional hazards model.
}
\examples{
n <- 200
omega <- 1
censoring_lvl <- 0.4

set.seed(1)
b <- c(1, 1, rep(0, 348))
p <- length(b)
X <- matrix(rnorm(n * p), nrow=n)
y <- runif(nrow(X))
Y <- log(1 - y) / - (exp(X \%*\% b) * omega)

delta  <- runif(n) > censoring_lvl   # 0: censored, 1: uncensored
Y[!delta] <- Y[!delta] * runif(sum(!delta))

f <- svb.fit(Y, delta, X)

}
